# 第十九章 CSS度量单位体系

## 一、长度

长度是对距离的测量。长度由数字和紧随其后的单位组成。如果长度为0，则单位可以忽略。有些属性还允许负值。

长度可分为相对长度和绝对长度。相对长度指的是相对与其他长度属性而言，相对长度又分为文本相对长度和视图窗口相对长度。

### 1.1 文本相对长度

* **em** 相对于当前对象内文本的字体尺寸
* **ex** 相对于字符“x”的高度。通常为字体高度的一半
* **ch** 数字“0”的宽度
* **rem** 相对于根元素\(即html元素\)font-size计算值的倍数

em是常用的相对长度单位，em的长度会基于元素的字体大小进行计算，最常用的用法是首行缩进两个字符：

```css
text-indent:2em;
```

上述的例子中，如果元素中的字体大小为16px，则文本首行缩进的量为32px。

### 1.2 视图窗口相对长度

* **vw** 相对于视口的宽度。视图窗口被均分为100单位的vw
* **vh** 相对于视口的高度。视图窗口被均分为100单位的vh
* **vmax** 相对于视图窗口的宽度或高度，总是相对于大的那个。视图窗口的宽度或高度被均分为100单位的vmax
* **vmin** 相对于视图窗口的宽度或高度，总是相对于小的那个。视图窗口的宽度或高度被均分为100单位的vmin

### 1.3 绝对长度

绝对长度是最简单的长度单位，绝对长度单位有：

1. **cm** 厘米
2. **mm** 毫米
3. **q** 0.25毫米
4. **in** 英寸，1英寸 = 2.54厘米
5. **pt** 点，1pt = 1/72in
6. **pc** 派卡，1pc = 12pt
7. **px** 像素，1px = 1/96in

其中经常使用的绝对单位是像素px。1英寸相当于96个像素，像素虽然是绝对单位，但是在不同的设备，尤其是高密度显示设备和低密度显示设备上的效果并非完全一致。如图所示：

![](http://yangjh.oschina.io/front-end/images/pixel.png)

px 与 pt 是两个看起来很像、却完全不一样的单位\(在某些场合他们是1：1的\)，在很多时候却常常被搞混，或是制作过程根本没有分清楚、导致结果没有很精确。pt是常见的标示文字尺寸的单位，在绘图以及文书软件等几乎都是使用pt作为字体尺寸的单位。px像素，是屏幕上所显示的最小单位，当制作的内容是供屏幕浏览时，使用px可以精确的控制画面上显示效果。但也因为每个屏幕分辨率不同，像素的大小也不固定。在分辨率高的屏幕上，一个像素可能会小到肉眼无法辨识的大小。

pt与px理解起来其实不难，在应用的时候其实也相当单纯，在大部分的情况下适用的一个原则是：当设计的目的是用于供屏幕浏览，则趋向于使用px以方便掌握细节；而如果是为了做输出打印的需求,使用pt则是较好的选择。因此，在网站前端开发中，人们经常使用的单位是px，而不是pt。

### 1.4 百分比

百分比由数字和紧随其后的“％”符号构成。百分比值始终是相对于另外一个值而言的，比如相对于长度。例如：

```css
p { font-size: 10px }
p { line-height: 120% }
```

上面例子中的line-height值，最终计算出来应该为12px。

## 二、角度

CSS中，角度的单位有 deg, grad, rad, turn。

1. **deg** 度，角度单位，值的范围是0-360度，可以是负值。
2. **grad** 梯度（Gradians）。一个圆共400梯度，90度就是100梯度。
3. **rad** 弧度（Radians）。一个圆共2π弧度。
4. **turn** 圈（Turns）。一个圆共1圈。

## 三、rem

我们将从你已经熟悉的东西开始。em单位被定义为当前字体大小。例如，如果你在body元素上设置一个字体大小，那么在body元素内的任何子元素的em值都等于这个字体大小。

```css
<body> 
    <div class="test">Test</div>
</body> 
body { font-size: 14px; } 
div { font-size: 1.2em; // calculated at 14px * 1.2, or 16.8px }
```

在这里，我们说这个div将有一个1.2em的font-size。它是所继承的字体大小的1.2倍，在这个例子中为14px。结果为16.8px

```html
<div>
    Test (14 * 1.2 = 16.8px)
    <div>
        Test (16.8 * 1.2 = 20.16px)
        <div>
            Test (20.16 * 1.2 = 24.192px)
        </div>
    </div>
</div>

body {
  font-size: 14px;
  text-align: center;
  background: #ff5722;
}
div {
  font-size: 1.2em;
  color: #64ffda;
  font-weight: bold;
  padding: 2em;
}
```

![](/assets/import3.png)

虽然在某些情况下可能需要这个，但是通常你可能想基于一个唯一的度量标准来按比例缩放。在这种情况下，你应该用rem。rem中的"r"代表"root"；这等同于font-size基于根元素进行设置；在大多数情况下根元素为html元素。

```css
html { font-size: 14px; } 
div { font-size: 1.2rem; }
```

在上一个示例中三个嵌套的div的字体大小计算结果都为16.8px。

## 四、vw和wh

响应式网页设计技术很大程度上依赖于比例规则。然而，CSS比例不总是每个问题的最佳解决方案。CSS宽度是相对于最近的包含父元素。如果你想使用显示窗口的宽度或高度而不是父元素的宽度将会怎么样？这正是vh和vw单位所提供的。

响应式网页设计技术很大程度上依赖于比例规则。然而，CSS比例不总是每个问题的最佳解决方案。CSS宽度是相对于最近的包含父元素。如果你想使用显示窗口的宽度或高度而不是父元素的宽度将会怎么样？这正是vh和vw单位所提供的。

这些规则表面上看起来有无尽的用途。例如，做一个占满高度的或者接近占满高度的幻灯片，可以用一个非常简单的方法实现，只要用一行CSS：

```css
.slide {
    height: 100vh;
}
```

设想你想要一个占满屏幕宽度的标题。为做到这一点，你将会用vw来设置一个字体大小。这个大小将会随着浏览器的宽度按比例缩放。

```css
<h2>Settle down? Are you kidding?<br>I’m at the top of my game!</h2>
<p><em>- Elastigirl</em></p>

body {
  background: #ff5722;
  padding: 1em 0;
  color: #64ffda;
}
h2 {
  font-size: 6vw;
  margin-bottom: .2em
}
```

## 五、vmin 和 vmax

vh和vm总是与视口的高度和宽度有关，与之不同的，vmin和vmax是与这次宽度和高度的最大值或最小值有关，取决于哪个更大和更小。例如，如果浏览器设置为1100px宽、700px高，1vmin会是7px,1vmax为11px。然而，如果宽度设置为800px，高度设置为1080px，1vmin将会等于8px而1vmax将会是10.8px。

所以你什么时候可能用到这些值？

设想你需要一个总是在屏幕上可见的元素。使用高度和宽度设置为低于100的vmin值将可以实现这个效果。例如，一个正方形的元素总是至少接触屏幕的两条边可能是这样定义的：

```css
.box { height: 100vmin; width: 100vmin; }
```

![](https://www.w3cplus.com/sites/default/files/blogs/2015/1506/vmin.png)

如果你需要一个总是覆盖可视窗口的正方形\(一直接触屏幕的四条边\),使用相同的规则只是把单位换成vmax。

这些规则的组合提供了一个非常灵活的方式，用新的、令人兴奋的方式利用你的可视窗口的大小。

---

**参考资料：**

* [http://yangjh.oschina.io/front-end/css/unit.html](http://yangjh.oschina.io/front-end/css/unit.html)
* 白粥的博客：[七个你可能不了解的CSS单位](https://www.w3cplus.com/css/7-css-units-you-might-not-know-about.html)



